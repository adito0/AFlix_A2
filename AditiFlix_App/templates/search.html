<script type="text/javascript">
    function newMovie(name, year) {
            var query_name = name.replace("\n","+")
            var string = "http://localhost:5000/browse?name="+query_name+"&year="+year
            console.log(string)
            window.location=string;
        }

    function search(){
            var genreQ = ""
            var actorQ = ""
            var dirQ = ""
            genreQ = document.getElementById("genreName").value
            actorQ = document.getElementById("actorName").value
            dirQ = document.getElementById("dirName").value
            var string = "http://localhost:5000/search?query="+genreQ+"@"+actorQ+"@"+dirQ
            console.log(string)
            window.location=string;
        }
</script>

{% extends 'layout.html' %}
{% block content %}
<main id="main">
    <div class="search-flex">
        <div class="flex-col">
            <h1>Search</h1>
            <p>Use ';' as a seperator. E.g. Will Smith;Tom Cruise</p>
            <div class="flex-row">
                <p>Genre</p>
                <div class="search-container">
                    <input type="text" id="genreName" placeholder="Search for a genre..." name="search">
                </div>
            </div>
            <div class="flex-row">
                <p>Actor</p>
                <div class="search-container">
                    <input type="text" id="actorName" placeholder="Search for an actor..." name="search">
                </div>
            </div>
            <div class="flex-row">
                <p>Director</p>
                <div class="search-container">
                    <input type="text" id="dirName" placeholder="Search for a director..." name="search">
                </div>
            </div>
            <div class="flex-row">
                <button class="nxt-btn" onclick="search()">Submit</button>
            </div>
        </div>
        <div class="flex-col1">
            <div class="flex-row">
                <h4>Showing results for <b>{{value}}</b></h4>
            </div>
            {% for movie in movieList %}
                <div class="flex-item-movie">
                    <button style="border:none; background: none;" onclick="newMovie('{{movie.title}}','{{movie.release_year}}')"><img src="{{movie.image}}" class="movie-rec"></button>
                    <p class="recs-movie-title">{{movie.title}}</p>
                </div>
            {% endfor %}
        </div>
    </div>
</main>
{% endblock %}